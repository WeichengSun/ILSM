<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Correlation of Interaction Similarity for Shared species: CoIS — cois • ILSM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Correlation of Interaction Similarity for Shared species: CoIS — cois"><meta property="og:description" content='Calculating correlation of interaction similarity for shared species("COis_ ~") in two subnetworks.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ILSM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/motif_guideline.html">motif_guideline</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/WeichengSun/ILSM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Correlation of Interaction Similarity for Shared species: CoIS</h1>
    <small class="dont-index">Source: <a href="https://github.com/WeichengSun/ILSM/blob/main/R/cois.R" class="external-link"><code>R/cois.R</code></a></small>
    <div class="hidden name"><code>cois.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculating correlation of interaction similarity for shared species("COis_ ~") in two subnetworks.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cois</span><span class="op">(</span><span class="va">network.or.subnet_mat1</span>, subnet_mat2 <span class="op">=</span> <span class="cn">NULL</span>, weighted <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-network-or-subnet-mat-">network.or.subnet_mat1<a class="anchor" aria-label="anchor" href="#arg-network-or-subnet-mat-"></a></dt>
<dd><p>Either a multilayer(tripartite) network of 'igraph' class which contains three groups of species and interactions within layers without interactions between each group of species, or a numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and first groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise.</p></dd>


<dt id="arg-subnet-mat-">subnet_mat2<a class="anchor" aria-label="anchor" href="#arg-subnet-mat-"></a></dt>
<dd><p>A numeric matrix(or data.frame) representing interactions between two groups of species.
Each row and column of matrix represents single species in the second and third groups of the tripartite network respectively.
Elements of matrix are non-zero numbers if the two groups of species are connected, and 0 otherwise. If <code>network.or.subnet_mat1</code> is "igraph", <code>subnet_mat2</code> defaults to NULL.</p></dd>


<dt id="arg-weighted">weighted<a class="anchor" aria-label="anchor" href="#arg-weighted"></a></dt>
<dd><p>Logical. should elements of matrix be fractional? Default to FALSE. Generally, 'igraph' network represent a spare matrix, so <code>weighted</code> is FALSE. While elements of matrix represent interaction strength, <code>weighted</code> is TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Return a numeric value representing correlation of interaction similarity for shared species among subnetworks .</p>
<p>If <code>weighted</code> = FALSE, the results will show "CoIS= ;" and If <code>weighted</code> = TRUE, the results will show "CoIS_weight= ;"</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><strong>weighted</strong></p>
<p>If the <code>weighted</code> = FALSE, the input for the parameter can be:</p><ul><li><p><code>network.or.subnet_mat1</code>: input a 'igraph' of network data independently or input sparse matrix together with <code>subnet_mat2</code>.</p></li>
</ul><p>If the <code>weighted</code> = TRUE, the input for the parameter can be:</p><ul><li><p><code>network.or.subnet_mat1</code>: must input matrix(or data.frame) together with <code>subnet_mat2</code>. the matrix can be sparse matrix and matrix of interaction strength.</p></li>
</ul><p><strong>network.or.subnet_mat1</strong> and <strong>subnet_mat2</strong></p>
<p>There are two types of <code>network.or.subnet_mat1</code> that can be processed:</p><ul><li><p>(1). Input in a network of type "igraph" alone.</p></li>
<li><p>(2). Must be entered as data frame or matrix with <code>subnet_mat2</code>.</p></li>
</ul><p>If the type of inputting is data frame or matrix, please make sure the row of <code>network.or.subnet_mat1</code> and <code>subnet_mat2</code> correspond with the second group of species that both belong to two subnetworks and interact with other groups of species.</p><ul><li><p>Try to make the rows of both matrices have the same attributes. Or we default:</p></li>
<li><p>When the two matrices can have different numbers of rows:</p><ul><li><p>(1). If both matrices have row names, then the function counts all row names to produce two new matrices with the same row names.</p></li>
<li><p>(2). If at most one matrix has row names, the function assigns new row names to both matrices on a row-to-row basis (any extra row names are assigned a new value) and then counts all row names to produce two new matrices with the same row names.</p></li>
</ul></li>
<li><p>When the two matrices can have the same numbers of rows:</p><ul><li><p>No matter how the row names of the two matrices are arranged, as long as the row names are exactly the same; But we don't handle matrices with empty row names (the function will give an error).</p></li>
</ul></li>
<li><p>The two matrices can have different numbers of rows, but read our default handling carefully to make sure the calculation is accurate when using this function!!!</p></li>
</ul><p>About a network of type "igraph", It can be obtained from the connection matrices of subnetworks by the function <code>igraph_from_matrices</code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Sauve, A. M., Thébault, E., Pocock, M. J., &amp; Fontaine, C. (2016). How plants connect pollination and herbivory networks and their contribution to community stability. Ecology, 97(4), 908-917.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## generate a random multilayer network</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Net</span> <span class="op">&lt;-</span> <span class="fu"><a href="build_net.html">build_net</a></span><span class="op">(</span><span class="fl">11</span>,<span class="fl">15</span>,<span class="fl">16</span>,<span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">PPH_Coltparkmeadow</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Net</span> <span class="op">&lt;-</span> <span class="va">PPH_Coltparkmeadow</span></span></span>
<span class="r-in"><span><span class="fu">cois</span><span class="op">(</span><span class="va">Net</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CoIS= 0.475167309613609;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4751673</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">md1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">110</span>,replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,<span class="fl">10</span>,<span class="fl">11</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">md2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">120</span>,replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,<span class="fl">10</span>,<span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cois</span><span class="op">(</span><span class="va">md1</span>,<span class="va">md2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CoIS= 0.04269004216473;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.04269004</span>
<span class="r-in"><span><span class="fu">cois</span><span class="op">(</span><span class="va">md1</span>,<span class="va">md2</span>,weighted<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CoIS_weight= 0.04269004216473;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.04269004</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">md1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">80</span>,replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,<span class="fl">8</span>,<span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">md2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">120</span>,replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,<span class="fl">10</span>,<span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cois</span><span class="op">(</span><span class="va">md1</span>,<span class="va">md2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> re-check whether the row name of network.or.subnet_mat1 is corresponding to the row name of subnet_mat2!!!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CoIS= 0.0638977641947439;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.06389776</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mdw1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">110</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">10</span>,<span class="fl">11</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mdw2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">120</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">10</span>,<span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cois</span><span class="op">(</span><span class="va">mdw1</span>,<span class="va">mdw2</span>,weighted<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CoIS_weight= 0.0161616161616162;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.01616162</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mdw1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">80</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">8</span>,<span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mdw2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">120</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">10</span>,<span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cois</span><span class="op">(</span><span class="va">mdw1</span>,<span class="va">mdw2</span>,weighted<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> re-check whether the row name of network.or.subnet_mat1 is corresponding to the row name of subnet_mat2!!!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CoIS_weight= 0.100529100529101;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1005291</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by WeiCheng Sun, Chuan Yan, Yangyang Zhao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

